{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mishr/OneDrive/Desktop/ausboard/app/dashboard/projects/projects-overview/%5BprojectId%5D/testruns/testruns-detail/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useParams } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\ninterface TestRun {\r\n    id: string;\r\n    response: string;\r\n    executionTime: number;\r\n    status: string;\r\n    runAt: string;\r\n    testCaseTitle: string;\r\n}\r\n\r\nconst BACKEND_URL = process.env.NEXT_PUBLIC_API_URL;\r\n\r\nexport default function TestRunOverview() {\r\n    const { projectId } = useParams<{ projectId: string }>();\r\n    const [testRunData, setTestRunData] = useState<TestRun[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const runsPerPage = 5;\r\n\r\n    useEffect(() => {\r\n        const fetchDetails = async () => {\r\n            if (!projectId) return;\r\n            try {\r\n                const res = await fetch(`${BACKEND_URL}/api/testrun/project/testrun/${projectId}`, {\r\n                    method: \"GET\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\"\r\n                    },\r\n                    credentials: \"include\"\r\n                });\r\n                const testrun = await res.json();\r\n                setTestRunData(testrun);\r\n            } catch (err) {\r\n                console.error(err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchDetails();\r\n    }, [projectId]);\r\n\r\n    const sortedRuns = [...testRunData].sort(\r\n        (a, b) => new Date(b.runAt).getTime() - new Date(a.runAt).getTime()\r\n    );\r\n    const totalPages = Math.ceil(sortedRuns.length / runsPerPage);\r\n    const indexOfLastRun = currentPage * runsPerPage;\r\n    const indexOfFirstRun = indexOfLastRun - runsPerPage;\r\n    const currentRuns = sortedRuns.slice(indexOfFirstRun, indexOfLastRun);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center h-screen bg-black text-white\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-white mr-4\"></div>\r\n                <span className=\"tracking-widest text-sm\">Fetching your results...</span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-5 p-6\">\r\n            <nav className=\"self-start flex px-5 py-3 text-white/30 border border-white/30 rounded-lg bg-transparent dark:bg-gray-800 dark:border-gray-700\" aria-label=\"Breadcrumb\">\r\n                <ol className=\"inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse\">\r\n                    <li className=\"inline-flex items-center\">\r\n                        <a href=\"/dashboard/projects/projects-overview\" className=\"inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white\">\r\n                            Project Overview\r\n                        </a>\r\n                    </li>\r\n                    <li>\r\n                        <div className=\"flex items-center\">\r\n                            <svg className=\"rtl:rotate-180 block w-3 h-3 mx-1 text-gray-400\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 6 10\">\r\n                                <path stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"m1 9 4-4-4-4\" />\r\n                            </svg>\r\n                            <a href={`/dashboard/projects/projects-overview/${projectId}/testcases`} className=\"ms-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ms-2 dark:text-gray-400 dark:hover:text-white\">\r\n                                Add Testcases\r\n                            </a>\r\n                        </div>\r\n                    </li>\r\n                    <li>\r\n                        <div className=\"flex items-center\">\r\n                            <svg className=\"rtl:rotate-180 block w-3 h-3 mx-1 text-gray-400\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 6 10\">\r\n                                <path stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"m1 9 4-4-4-4\" />\r\n                            </svg>\r\n                            <a href={`/dashboard/projects/projects-overview/${projectId}/testruns`} className=\"ms-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ms-2 dark:text-gray-400 dark:hover:text-white\">\r\n                                Testcases Overview\r\n                            </a>\r\n                        </div>\r\n                    </li>\r\n                    <li aria-current=\"page\">\r\n                        <div className=\"flex items-center\">\r\n                            <svg className=\"rtl:rotate-180 w-3 h-3 mx-1 text-gray-400\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 6 10\">\r\n                                <path stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"m1 9 4-4-4-4\" />\r\n                            </svg>\r\n                            <span className=\"ms-1 text-sm font-medium text-gray-500 md:ms-2 dark:text-gray-400\">Results Overview</span>\r\n                        </div>\r\n                    </li>\r\n                </ol>\r\n            </nav>\r\n\r\n            <h1 className=\"text-3xl font-bold tracking-widest uppercase text-white\">testruns overview</h1>\r\n\r\n            <div className=\"overflow-x-auto rounded-lg shadow-lg border border-red-700\">\r\n                <table className=\"w-full table-auto text-sm text-left text-gray-400\">\r\n                    <thead className=\"bg-[#1f1f1f] text-gray-300 uppercase text-xs\">\r\n                        <tr>\r\n                            <th className=\"px-6 py-3\">Test Case</th>\r\n                            <th className=\"px-6 py-3\">Status</th>\r\n                            <th className=\"px-6 py-3\">Execution Time</th>\r\n                            <th className=\"px-6 py-3\">Response</th>\r\n                            <th className=\"px-6 py-3\">Run At</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-[#3f3939] text-center\">\r\n                        {currentRuns.length === 0 ? (\r\n                            <tr className=\"border-b border-gray-700 hover:bg-[#222222] transition duration-200\">\r\n                                <td colSpan={6} className=\"px-6 py-4 text-center\">No Tests running currently</td>\r\n                            </tr>\r\n                        ) : (\r\n                            currentRuns.map((tr, index) => (\r\n                                <tr key={index} className=\"border-b border-gray-700 text-white hover:bg-[#222222] transition duration-200\">\r\n                                    <td className=\"px-6 py-4\">{tr.testCaseTitle}</td>\r\n                                    <td className={`px-6 py-4 ${tr.status === 'PASSED' ? 'text-green-500' : 'text-red-500'}`}>{tr.status}</td>\r\n                                    <td className=\"px-6 py-4\">{`${tr.executionTime}ms`}</td>\r\n                                    <td className=\"px-6 py-4\">\r\n                                        <div className=\"max-h-24 overflow-y-auto whitespace-pre-wrap text-left p-2 bg-gray-900 border-2 border-white rounded\">\r\n                                            {tr.response}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4\">\r\n                                        {new Date(tr.runAt.split('.')[0]).toLocaleString(\"en-IN\", {\r\n                                            year: 'numeric',\r\n                                            month: 'short',\r\n                                            day: 'numeric',\r\n                                            hour: '2-digit',\r\n                                            minute: '2-digit',\r\n                                            second: '2-digit',\r\n                                            hour12: true,\r\n                                        })}\r\n                                    </td>\r\n                                </tr>\r\n                            ))\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            {totalPages > 1 && (\r\n                <div className=\"flex justify-center mt-4 gap-2\">\r\n                    <button\r\n                        onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n                        disabled={currentPage === 1}\r\n                        className=\"px-3 py-1 text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30\"\r\n                    >\r\n                        Previous\r\n                    </button>\r\n                    <span className=\"text-white self-center\">\r\n                        Page {currentPage} of {totalPages}\r\n                    </span>\r\n                    <button\r\n                        onClick={() => setCurrentPage((prev) => Math.min(prev + 1, totalPages))}\r\n                        disabled={currentPage === totalPages}\r\n                        className=\"px-3 py-1 text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30\"\r\n                    >\r\n                        Next\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}