{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mishr/OneDrive/Desktop/ausboard/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nconst BACKEND_URL = process.env.NEXT_PUBLIC_API_URL;\r\ntype User = {\r\n    name: string,\r\n    email?: string,\r\n    id?:string\r\n}\r\nexport default function Dashboard(){\r\n    const tips = [\r\n            \"You can use predefined templates to save time and enforce best practices.\",\r\n            \"Performance testing helps you detect slow endpoints before they become a problem.\",\r\n            \"Security tests can prevent major vulnerabilities in production.\",\r\n            \"Stress testing your API regularly ensures it scales under real-world conditions.\",\r\n            \"Well-organized test cases improve onboarding for new team members.\",\r\n            \"Test early, test often — it’s cheaper than fixing bugs in production.\",\r\n        ];\r\n    const router = useRouter();\r\n    const [stats,setStats] = useState<User | null>(null);\r\n    const [authorized,setAuthorized] = useState< boolean | null>(null);\r\n    const [currentTipIndex, setCurrentTipIndex] = useState(0);\r\n    const [fade,setFade] = useState(true);\r\n    useEffect(()=>{\r\n        const fetchStats = async() => {\r\n            try{\r\n            const response = await fetch(`${BACKEND_URL}/api/users/me`,{\r\n                credentials:\"include\"\r\n            });\r\n            if(response.ok) {\r\n                const data: User = await response.json();\r\n                setStats(data);\r\n                setAuthorized(true);\r\n                console.log(\"Stats fetched successfully: \",data); \r\n            } else {\r\n                throw new Error(\"Unauthorized\");\r\n            }\r\n        } catch(error) {\r\n            setAuthorized(false);\r\n            console.log(\"Error fetching stats: \",error);\r\n            alert(\"You are not authorized to view this page. Please Log in.\");\r\n            router.push(\"/login\")\r\n        }\r\n        };\r\n        fetchStats();\r\n    },[router]);\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n        setFade(false);\r\n        setTimeout(() => {\r\n            setCurrentTipIndex((prev) => (prev + 1) % tips.length);\r\n            setFade(true);\r\n        }, 2000);\r\n        }, 10000);\r\n        return () => clearInterval(interval);\r\n    }, [tips.length]);\r\n    if (authorized === null) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-screen bg-black text-white\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-white mr-4\"></div>\r\n        <span className=\"tracking-widest text-sm\">Checking authorization…</span>\r\n      </div>\r\n    );\r\n  }\r\n  if (!authorized || !stats) {\r\n    return null; \r\n  }\r\n    return (\r\n        <div className=\"h-screen flex-col items-start justify-center space-y-4 px-2 overflow-hidden\">\r\n            <div className=\"flex flex-row justify-between items-center gap-5\">\r\n                <div className=\"flex flex-col items-center justify-center rounded-2xl backdrop-blur-md shadow-xl border border-white/20 bg-gradient-to-br from-red-500 to-red-950 p-6 gap-2\">\r\n                <Image height={500} width={500} src='/plug.svg' alt=\"plug\" className=\"h-20 w-20 object-cover rounded-full\"/>\r\n                    <h1 className=\"text-xl font-bold\">Plug in New Project</h1>\r\n                    <p className=\"text-sm font-light text-black/30\">Plug in any website of any type and perform your own or predefined tests on it.</p>\r\n                    <div className=\"px-4 py-2 rounded-md border-2 border-black\">\r\n                        <h1 className=\"tracking-widest font-bold text-md\"><Link href='/dashboard/projects'>CONNECT</Link></h1>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex flex-col items-center justify-center rounded-2xl backdrop-blur-md shadow-xl border border-white/20 bg-gradient-to-br from-red-500 to-red-950 p-6 gap-2\">\r\n                <Image height={500} width={500} src='/logs.svg' alt=\"plug\" className=\"h-20 w-20 object-cover rounded-full\"/>\r\n                    <h1 className=\"text-xl font-bold\">Check Docs</h1>\r\n                    <p className=\"text-sm font-light text-black/30\">Take a look at the documentation for guidance on how to run and set up to your first test.</p>\r\n                    <div className=\"px-4 py-2 rounded-md border-2 border-black\">\r\n                        <h1 className=\"tracking-widest font-bold text-md\"><Link href='/dashboard/templates'>CHECK</Link></h1>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n             <div className=\"mt-10 w-full flex justify-center\">\r\n        <div className=\" w-full rounded-2xl backdrop-blur-md shadow-xl border border-red-500 bg-transparent p-6  flex flex-col items-center gap-3\">\r\n          <p className={`text-3xl italic bg-gradient-to-r from-red-500 font-bold to-red-950 bg-clip-text text-transparent transition-opacity duration-500 ${fade ? \"opacity-100\" : \"opacity-0\"}`}>\r\n            {`\"${tips[currentTipIndex]}\"`}\r\n          </p>\r\n        </div>\r\n      </div>\r\n        </div>\r\n    )\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}