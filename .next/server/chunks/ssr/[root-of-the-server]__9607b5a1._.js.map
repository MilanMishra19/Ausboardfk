{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mishr/OneDrive/Desktop/ausboard/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useRef } from \"react\";\r\nimport { useState } from \"react\";\r\nconst BACKEND_URL = process.env.NEXT_PUBLIC_API_URL\r\nexport default function Register() {\r\n    const [email,setEmail] = useState('');\r\n    const [password,setPassword] = useState('');\r\n    const router = useRouter();\r\n    const refs = useRef(null);\r\n    const [message,setMessage] = useState('');\r\n    const handleSubmit = async (e:React.FormEvent<HTMLFormElement>)=>{\r\n        e.preventDefault();\r\n        setMessage('');\r\n        try{\r\n            const formData = new URLSearchParams();\r\n            formData.append('username',email);\r\n            formData.append('password',password);\r\n            const res = await fetch(`${BACKEND_URL}/login`,{\r\n                method:\"POST\",\r\n                headers:{\r\n                    'Content-Type':'application/x-www-form-urlencoded'\r\n                },\r\n                body:formData,\r\n                credentials:'include',\r\n                redirect:'manual'\r\n            });\r\n            if(res.status===302){\r\n                const redirectURL = res.headers.get('Location');\r\n                if(redirectURL){\r\n                    if(redirectURL.includes('/login?error')){\r\n                        setMessage('Login failed: Invalid credentials');\r\n                        console.error('Redirected to: ',redirectURL);\r\n                    }\r\n                    else if(redirectURL.includes('/')){\r\n                        setMessage('Login successful: Redirecting to dashboard');\r\n                        router.push('/dashboard');\r\n                    } else {\r\n                        setMessage('Login completed with an unexpected redirect');\r\n                        console.error('redirected to: ',redirectURL);\r\n                    }\r\n                } else {\r\n                    setMessage('Login failed : redirect headers missing');\r\n                }\r\n            } else if(res.ok) {\r\n                setMessage('Login successful! Redirecting to dashboard...');\r\n                setEmail('');\r\n                setPassword('');\r\n                router.push('/dashboard')\r\n            } else {\r\n                const text = await res.text();\r\n                setMessage(`Login failed: ${text}`)\r\n                console.error(`Backend response text: `,text);\r\n            }\r\n        } catch(error){\r\n            setMessage('login failed: '+error || 'An unexpected error occured');\r\n            console.error('Backend response text: ',error);\r\n        }\r\n    };\r\n  return (\r\n    <div ref={refs} className=\"flex max-h-screen items-center justify-center p-6 sm:p-12 relative bg-black\">\r\n      <motion.div\r\n        className=\"form-container relative flex w-full max-w-2xl flex-col items-center justify-center rounded-2xl bg-white/5 p-8 shadow-2xl backdrop-blur-lg backdrop-filter sm:p-12\"\r\n        initial={{ opacity: 0, scale: 0.9 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        transition={{ delay: 0.5, duration: 1, ease: \"easeOut\" }}\r\n      >\r\n        <div \r\n          className=\"absolute inset-0 z-0 h-full w-full rounded-2xl pointer-events-none\" \r\n          style={{\r\n            background: 'radial-gradient(circle at 50% 50%, #ff0000 0%, transparent 70%)',\r\n            filter: 'blur(100px) opacity(0.4)',\r\n            transition: 'transform 0.5s ease-in-out',\r\n            transform: 'scale(1.2)'\r\n          }}\r\n        ></div>\r\n\r\n        <div className=\"relative z-10 flex flex-col items-center justify-center w-full gap-8\">\r\n            <div className=\"flex flex-row items-center gap-4\">\r\n                <Image src=\"/logo.svg\" alt=\"logo\" height={100} width={100} className=\"h-20 w-20\" priority={true} loading=\"eager\" rel=\"preload\"/>\r\n            </div>\r\n\r\n            <form className=\"flex w-full flex-col items-center gap-6\" onSubmit={handleSubmit}>\r\n                {message && (\r\n                    <p className={`text-sm tracking-widest ${message.includes('successful')?'text-green-400':'text-red-500'}`}>\r\n                        {message}\r\n                    </p>\r\n                )}\r\n                <div className=\"flex flex-row justify-between w-full gap-5\">\r\n                    <input\r\n                        className=\"w-full rounded-lg border-b-2 border-white bg-transparent py-4 text-sm text-white placeholder-white/80 transition-colors duration-300 focus:border-white focus:outline-none focus:ring-1 focus:ring-white/80\"\r\n                        type=\"text\"\r\n                        required\r\n                        placeholder=\"Enter your name\"\r\n                    />\r\n                    <input\r\n                        className=\"w-full rounded-lg border-b-2 border-white bg-transparent py-4 text-sm text-white placeholder-white/80 transition-colors duration-300 focus:border-white focus:outline-none focus:ring-1 focus:ring-white/80\"\r\n                        type=\"email\"\r\n                        required\r\n                        placeholder=\"Enter your email ID\"\r\n                        value={email}\r\n                        onChange={(e)=>setEmail(e.target.value)}\r\n                    />\r\n                </div>\r\n                <input\r\n                    className=\"w-full rounded-lg border-b-2 border-white bg-transparent py-4 text-sm text-white placeholder-white/80 transition-colors duration-300 focus:border-white focus:outline-none focus:ring-1 focus:ring-white/80\"\r\n                    type=\"password\"\r\n                    required\r\n                    placeholder=\"Enter your password\"\r\n                    value={password}\r\n                    onChange={(e)=>setPassword(e.target.value)}\r\n                />\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"mt-4 w-full rounded-full bg-white/90 py-4 font-bold uppercase tracking-widest text-black shadow-lg transition-all duration-300 hover:bg-white hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2\"\r\n                >\r\n                    Submit\r\n                </button>\r\n                <Link href=\"/signup\">\r\n                <p className=\"text-sm font-light text-blue-500\">New User?</p>\r\n                </Link>\r\n            </form>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}