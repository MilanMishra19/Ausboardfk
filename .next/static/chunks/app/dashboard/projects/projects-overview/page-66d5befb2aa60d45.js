(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{1521:(e,t,r)=>{Promise.resolve().then(r.bind(r,8656))},8656:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(5155),c=r(6766),l=r(6874),a=r.n(l),o=r(2115);let n="http://localhost:8080";function i(){let[e,t]=(0,o.useState)([]),[r,l]=(0,o.useState)(!0),[i,d]=(0,o.useState)(null),h=(0,o.useRef)([]);(0,o.useEffect)(()=>{let e=e=>{h.current.every(t=>!t||!t.contains(e.target))&&d(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(n,"/api/project/my-projects"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Unable to fetch projects");let r=await e.json();t(r)}catch(e){console.error("Error fetching projects",e)}finally{l(!1)}})()},[]);let u=async e=>{if(confirm("Are you sure you want to delete this project?"))try{if(!(await fetch("".concat(n,"/api/project/").concat(e),{method:"DELETE",credentials:"include"})).ok)throw Error("Error deleting project!");t(t=>t.filter(t=>t.projectId!==e)),alert("Project deleted successfully!")}catch(e){console.error(e),alert("Some error occured while deleting your project.")}};return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-between gap-5 p-6",children:[(0,s.jsx)("h1",{className:"text-sm font-bold tracking-widest uppercase text-white",children:"Your projects"}),(0,s.jsx)("div",{className:"grid grid-cols-2 max-w-5xl gap-3 justify-between",children:r?(0,s.jsxs)("div",{className:"flex items-center justify-center h-screen bg-black text-white",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mr-4"}),(0,s.jsx)("span",{className:"tracking-widest text-sm",children:"Fetching your projects..."})]}):e.map((e,t)=>(0,s.jsx)("div",{className:"col-span-1 border border-white/30 p-6 rounded-xl hover:shadow-xl transition-all",children:(0,s.jsxs)("div",{className:"flex flex-col gap-10 items-center justify-center",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,s.jsx)(c.default,{src:"/logo.svg",alt:"logo",height:500,width:500,className:"h-15 w-15 object-cover rounded-full"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("h1",{className:"text-md text-white tracking-widest font-bold",children:e.name}),(0,s.jsx)(a(),{href:e.url,children:(0,s.jsx)("p",{className:"text-sm text-white hover:underline",children:e.url})})]}),(0,s.jsx)(c.default,{src:"/perf.svg",alt:"perf",height:500,width:500,className:"h-10 w-10 bg-black rounded-full border-4 border-red-950 animate-pulse"}),(0,s.jsxs)("div",{className:"relative",ref:e=>{h.current[t]=e},children:[(0,s.jsx)("button",{className:"text-xl font-extrabold cursor-pointer text-white",onClick:()=>{d(i===t?null:t)},children:"â€¦"}),i===t&&(0,s.jsx)("div",{className:"absolute right-0 mt-2 w-32 bg-gray-950 text-black rounded-md shadow-lg z-10",children:(0,s.jsxs)("ul",{className:"flex flex-col text-xs uppercase text-white",children:[(0,s.jsx)(a(),{href:"/dashboard/projects/projects-overview/".concat(e.projectId,"/testcases"),children:(0,s.jsx)("li",{className:"px-4 py-2 hover:bg-white/10 cursor-pointer",children:"Add Testcases"})}),(0,s.jsx)(a(),{href:"/dashboard/projects/projects-overview/".concat(e.projectId,"/testruns"),children:(0,s.jsx)("li",{className:"px-4 py-2 hover:bg-white/10 cursor-pointer",children:"Testcases Overview"})}),(0,s.jsx)("button",{onClick:()=>u(e.projectId),children:(0,s.jsx)("li",{className:"px-4 py-2 hover:bg-white/10 cursor-pointer text-red-500 uppercase",children:"Delete"})})]})})]})]}),(0,s.jsxs)("div",{className:"flex flex-row w-full justify-between",children:[(0,s.jsxs)("h1",{className:"text-xs font-bold tracking-widest text-white",children:["Created at: ",new Date(e.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"long"}).replace(/(\d+)(?!\d)/,e=>{let t=parseInt(e);if(t>3&&t<21)return"".concat(t,"th");switch(t%10){case 1:return"".concat(t,"st");case 2:return"".concat(t,"nd");case 3:return"".concat(t,"rd");default:return"".concat(t,"th")}})]}),(0,s.jsx)("h1",{className:"text-xs font-bold uppercase tracking-widest text-white",children:e.websiteCategory})]})]})},t))})]})}}},e=>{e.O(0,[874,766,441,964,358],()=>e(e.s=1521)),_N_E=e.O()}]);