(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[623],{5424:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),a=s(6766),l=s(6874),n=s.n(l),c=s(5695),i=s(2115);let o="http://localhost:8080";function d(){let[e,t]=(0,i.useState)(new Set),{projectId:s}=(0,c.useParams)(),[l,d]=(0,i.useState)([]),[x,h]=(0,i.useState)(null),[u,m]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{if(s)try{let[e,t]=await Promise.all([fetch("".concat(o,"/api/project/").concat(s),{credentials:"include"}),fetch("".concat(o,"/api/testcase/project/").concat(s),{credentials:"include"})]),r=await e.json(),a=await t.json();h(r),d(Array.isArray(a)?a:[a])}catch(e){console.error("Error: ",e)}finally{m(!1)}})()},[s]);let p=async e=>{t(t=>new Set(t).add(e));try{var s;let t=await fetch("".concat(o,"/api/testcase/run/").concat(e),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok){let e=await t.text();throw Error(e||"Failed to run test")}let r=await t.json();alert("Test ".concat(r.status,": ").concat(null==(s=r.response)?void 0:s.substring(0,100)))}catch(t){let e=t instanceof Error?t.message:"Unknown error";console.error(t),alert("Error in running tests: ".concat(e))}finally{t(t=>{let s=new Set(t);return s.delete(e),s})}},w=async()=>{t(new Set(l.map(e=>e.id)));try{let e=await fetch("".concat(o,"/api/testcase/run-all/").concat(s),{method:"POST",credentials:"include"});if(!e.ok)throw Error("Failed to run all tests");let t=await e.json(),r=t.filter(e=>"PASSED"===e.status).length;alert("âœ… ".concat(r,"/").concat(t.length," tests passed"))}catch(e){console.error(e),alert("Failed to run all tests")}finally{t(new Set)}},j=async e=>{if(confirm("Are you sure you want to delete this testcase. Testruns associated with it too will be deleted."))try{if(!(await fetch("".concat(o,"/api/testcase/").concat(e),{method:"DELETE",credentials:"include"})).ok)throw Error("Failed to delete testcase");d(t=>t.filter(t=>t.id!==e)),alert("Testcase deleted successfully!")}catch(e){console.error(e),alert("An error occured while deleting your testcase.")}};return u?(0,r.jsxs)("div",{className:"flex items-center justify-center h-screen bg-black text-white",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mr-4"}),(0,r.jsx)("span",{className:"tracking-widest text-sm",children:"Fetching your projects..."})]}):(0,r.jsxs)("div",{className:"relative flex flex-col w-full gap-5",children:[(0,r.jsx)("nav",{className:"self-start flex px-5 py-3 text-white/30 border border-white/30 rounded-lg bg-transparent dark:bg-gray-800 dark:border-gray-700","aria-label":"Breadcrumb",children:(0,r.jsxs)("ol",{className:"inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse",children:[(0,r.jsx)("li",{className:"inline-flex items-center",children:(0,r.jsx)("a",{href:"/dashboard/projects/projects-overview",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white",children:"Project Overview"})}),(0,r.jsx)("li",{children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"rtl:rotate-180 block w-3 h-3 mx-1 text-gray-400 ","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:(0,r.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 9 4-4-4-4"})}),(0,r.jsx)("a",{href:"/dashboard/projects/projects-overview/".concat(s,"/testcases"),className:"ms-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ms-2 dark:text-gray-400 dark:hover:text-white",children:"Add Testcases"})]})}),(0,r.jsx)("li",{"aria-current":"page",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"rtl:rotate-180  w-3 h-3 mx-1 text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:(0,r.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 9 4-4-4-4"})}),(0,r.jsx)("span",{className:"ms-1 text-sm font-medium text-gray-500 md:ms-2 dark:text-gray-400",children:"Testcase Overview"})]})})]})}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1",children:[(0,r.jsx)("h1",{className:"text-3xl tracking-widest text-white font-bold",children:"TESTCASES OVERVIEW"}),(0,r.jsxs)("h1",{className:"text-sm tracking-widest text-white/30 font-light",children:[null==x?void 0:x.name," : ",null==x?void 0:x.url]})]}),(0,r.jsx)("div",{className:"flex w-full justify-between gap-5",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-2xl backdrop-blur-md shadow-xl border border-white/20 bg-gradient-to-br from-red-500 to-red-950 p-6 gap-2",children:[(0,r.jsx)("h1",{className:"text-xl text-red-950 drop-shadow-[0_0_10px_rgba(255,0,0,0.8)] font-bold",children:"Go to Testruns Overview"}),(0,r.jsx)(a.default,{src:"/globe.svg",alt:"",height:500,width:500,className:"object-cover h-12 w-12"}),(0,r.jsx)("p",{className:"text-sm text-white/50 font-light",children:"Find out if your tests passed, time taken to execute and much more in your Test runs overview.Additionally you can stress test as well as load test to find out metrics such as latency,throughput and much more"}),(0,r.jsx)(n(),{href:"/dashboard/projects/projects-overview/".concat(s,"/testruns/testruns-detail"),children:(0,r.jsx)("button",{className:"w-45 py-2 px-4 text-white font-semibold rounded-md bg-red-600 shadow-[0_0_20px_rgba(255,0,0,0.7)] hover:shadow-[0_0_30px_rgba(255,0,0,1)] transition",children:"Go To Overview"})})]})}),(0,r.jsxs)("div",{className:"overflow-x-auto rounded-lg shadow-lg border border-red-700",children:[(0,r.jsx)("button",{className:"w-full py-2 px-4 text-white font-semibold rounded-md bg-red-600 shadow-[0_0_20px_rgba(255,0,0,0.7)] hover:shadow-[0_0_30px_rgba(255,0,0,1)] transition",onClick:w,children:"Run All"}),(0,r.jsxs)("table",{className:"w-full table-auto text-sm text-left text-gray-400",children:[(0,r.jsx)("thead",{className:"bg-[#1f1f1f] text-gray-300 uppercase text-xs",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3",children:"Title"}),(0,r.jsx)("th",{className:"px-6 py-3",children:"Endpoint"}),(0,r.jsx)("th",{className:"px-6 py-3",children:"Method"}),(0,r.jsx)("th",{className:"px-6 py-3",children:"Priority"}),(0,r.jsx)("th",{className:"px-6 py-3",children:"Test Type"}),(0,r.jsx)("th",{className:"px-6 py-3",children:"Decision"}),(0,r.jsx)("th",{className:"px-6 py-3",children:"Delete"})]})}),(0,r.jsx)("tbody",{className:"bg-[#3f3939] text-center",children:0===l.length?(0,r.jsx)("tr",{className:"border-b border-gray-700 hover:bg-[#222222] transition duration-200",children:(0,r.jsx)("td",{colSpan:6,className:"px-6 py-4 text-center",children:"No TestCases added"})}):l.map((t,s)=>{var a;return(0,r.jsxs)("tr",{className:"border-b border-gray-700 text-white hover:bg-[#222222] transition duration-200",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:t.title}),(0,r.jsx)("td",{className:"px-6 py-4",children:t.endpoints}),(0,r.jsx)("td",{className:"px-6 py-4",children:t.method}),(0,r.jsx)("td",{className:"px-6 py-4 ".concat("low"===t.priority?"text-green-500":"medium"===t.priority?"text-yellow-500":"text-red-500"),children:t.priority.toUpperCase()}),(0,r.jsx)("td",{className:"px-6 py-4",children:null==(a=t.testType)?void 0:a.toLocaleUpperCase()}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("button",{className:"text-sm text-blue-500 disabled:text-red-400 disabled:animate-pulse",onClick:()=>p(t.id),disabled:e.has(t.id),children:e.has(t.id)?"Running...":"Run"})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("button",{className:"text-red-500 text-sm hover:text-red-700",onClick:()=>j(t.id),children:"Delete"})})]},s)})})]})]})]})}},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},8573:(e,t,s)=>{Promise.resolve().then(s.bind(s,5424))}},e=>{e.O(0,[874,766,441,964,358],()=>e(e.s=8573)),_N_E=e.O()}]);